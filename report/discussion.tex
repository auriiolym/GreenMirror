%--------------------------------------------------------------------------------
%----------------------------------------------------------------------
\section{Discussion}\label{sec:discussion}
GreenMirror is the second step in the development of an extensive research tool. The work of Aalbertsberg \cite{aalbertsberg2015} was the first step, although except for minor design choices such as the programming language and the client-server structure, his work bears virtually no resemblance to the current version. 

The intention for using a proper framework design was present during the design phase. Examples include the work of Fayad \& Schmidt \cite{fayad1997} and Markiewicz \& De Lucena \cite{markiewicz2001}, but this has crept unwittingly into the background during the implementation phase. Some concepts have been used (e.g. hot spots), but more research should be used while further developing the GreenMirror framework. A somewhat similar point applies to the use of the MVC pattern. It is implemented, as discussed in \cref{sec:design;sub:patterns}, but there is room for improvement to increase the framework's maintainability. For example: the distinction between the controller and view roles on the server side could be made more apparent and the view role on the client side could be improved beyond the use of just the \lstinline{Log} class.

Help from work relating to GreenMirror's way of visualization could not be uncovered. Due to the absence of related work backing the used visualization approach, this is a point of discussion. "Visualization approach" here means: the way of visualization (nodes and their FX representation) and the internal representation, which are discussed in \cref{sec:features;sub:nodrel,sec:design;sub:fxwrapper,sec:design;sub:states}. I believe the current approach is optimal for the requirements set for this project. It makes sure state-transitions can take place smoothly and without delay. It would probably, however, not be sufficiently efficient when GreenMirror is developed beyond the scope of this project. As is discussed in \cref{sec:validation}, it can take GreenMirror nearly a minute to convert a simple model to a visualization. That model had merely 20 state-transitions. Therefore, my first recommendation is to evaluate the current programmed structures and internal representations.

There is currently a \lstinline{TraceSelector} implementation in development by the Formal Methods and Tools research group of the University of Twente to select a trace from the GROOVE application. A next improvement to GreenMirror could be the development of a \lstinline{ModelInitializer} implementation that can load a model from an existing GROOVE Grammar. This would narrow the bridge between the two tools and would certainly be considered a useful functionality. The user might be required to provide extra information about how GROOVEâ€™s nodes should be represented on the visualizer, should such an implementation be developed. Fortunately this can be done rather simple: the user can provide a script that uses the Groovy script model initializer to supplement the model, which is possible because the use of multiple model initializers is supported. 
%Additionally, a supplement to the Groovy script model initializer could be written that constructs a model in the format of another tool from the user's model. This would not be easy due to the different formats of different tools, but shouldn't be impossible. This way, a model could be analysed by defining it one time in stead of defining it for every tool used for analysis.
\\\\\par
To conclude this report, some thoughts must be given about the ultimate goal of this tool. In addition to generating visualizations from a defined model, the ultimate goal is, as is briefly mentioned in \cref{sec:intro;sub:project}, generating a model definition from of user interaction with visualizations.

Take a model where a state-transition results in the movement of a node from one location to another. A next extension of GreenMirror could allow the user to drag a node in the visualizer from one location to another. Assuming both location boundaries have been properly defined, the application can recognize this as a state-transition. In this scenario the user can alter the trace, adding state-transitions before, in-between or after the transitions on the original trace.

There are of course many more visualization possibilities than simply moving a node. Continuing and expanding on the previous scenario: in stead of the atomic interaction of dragging a node to another location, the user could record multiple changes in the visualizer, resulting in a new state-transition definition or in the recognition of a previously defined state-transition. This might work fine solely for recognizing state-transitions, but this still has considerable limitations in the creation of new state-transitions.

The next step is the addition of the creation of model logic. In the GreenMirror application, a transition in the model could be defined as such: "if node A and node B both have a relation with node C, remove the relation between node A and node C and add a new relation between node A and node D". In this step of the development of this extension, a user should be able to create such logic based on his interactions with the visualizer. This can become complex very fast, but that should be considered an interesting challenge to accept in the future.

The next and perhaps final step is to make a two-way connection with other tools that enable or facilitate the research of state-transition models in different ways. When the connection is made between interactions with the visualizer and the creation of state-transition logic, this could be translated into a format that can be accepted by other tools. This way, the need is eliminated for researchers to rewrite their models into tool-specific formats when different tools are used.
